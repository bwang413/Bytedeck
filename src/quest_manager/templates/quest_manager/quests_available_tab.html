
  {% if quest_list %}

  <table data-toggle="table"
          data-classes="table table-no-bordered"
          data-detail-view="true"
          data-detail-formatter="detailFormatter"
          >
     <thead>
       <tr>
          <th> </th>
          <th data-sortable="true">Quest</th>
          <th data-halign="center" data-align="center" data-sortable="true">XP</th>
          <th data-halign="center" data-align="center" data-sortable="true" data-formatter="%s min">Est. Time</th>
          <th data-halign="center" data-align="center" data-sortable="true">Category</th>
          <th data-visible="false">Short Description</th>
       </tr>
      </thead>
      <tbody>
      {% for q in quest_list %}
      <tr>
        <td data-field="icon"><img class="media-object" src="{{q.icon.url}}" alt="icon" height="16px"/></td>
        <td data-field="name">{{q.name}}</td>
        <td data-field="xp" >{{q.xp}}</td>
        <td data-field="time" >{{q.id}}</td>
        <td data-field="category" >{{q.category}}</td>
        <td data-field="short_description">
           <div class="btn-group-vertical">
             <a class="btn btn-info" href="{% url 'quests:detail' q.id %}" role="button">View Details</a>
             <a class="btn btn-primary" href="#" role="button">Start Quest</a>
           </div>
           {{q.short_description}}
         </td>
     </tr>
     {% endfor %}
     </tbody>
   </table>

   <script>
      // horrible hack!  Figure out a proper way to do this.
      // it just needs to display the short_description
       function detailFormatter(index, row) {
           var html = [];
           $.each(row, function (key, value) {
             if(key == '5') {
               html.push('<div class="container-fluid">' + value + ' </div>');
             }
           });
           return html.join('');
       }
   </script>

    <!-- <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="false">
      {% for q in quest_list %}
      <div class="panel panel-default">
        <div class="panel-heading" role="tab" id="heading{{q.id}}">
          <div class="media">
            <div class="media-left media-middle">
              <img class="media-object" src="{{q.icon.url}}" alt="icon" height="16px"/>
            </div>
            <div class="media-body">
              <h4 class="panel-title media-body">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse{{q.id}}" aria-expanded="true" aria-controls="collapse{{q.id}}">
                {{ q.name }}
                </a>
              </h4>
            </div>
          </div>
        </div>
          <div id="collapse{{q.id}}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading{{q.id}}">
            <div class="panel-body">
              {{ q.short_description }}
              <li><a href="{% url 'quests:detail' q.id %}">View Details</a></li>
            </div>
          </div>
      </div>
      {% endfor %}
    </div> -->
  {% else %}
    <p>No quests are available.</p>
  {% endif %}
